<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>转发文章总览</title>
</head>
<body>
    <p><strong>新增文章</strong></p>
    <div>文章标题：<input type="text" id="articleName" /></div>
    <div>文章链接：<input type="text" id="articleAddress" /></div>
    <div>
        <button id="check">确认</button>
        <button id="cancel">清空</button>
    </div>
    <p><strong>已发布文章</strong></p>
    <ul>
        <li><a href="./articles/1.html">百度要发大招了？？？</a></li>
        <li><a href="./articles/2.html">前端大全</a></li>
    </ul>
    <script>
        window.onload = function() {
            var articleName = document.getElementById('articleName')
            var articleAddress = document.getElementById('articleAddress')
            var checkBotton = document.getElementById('check')
            var cancelBotton = document.getElementById('cancel')

            // 新增文章的确认按钮
            checkBotton.addEventListener('click', function(e) {
                var sName = articleName.value
                var sAddress = articleAddress.value

                if (!sName || !sAddress) {
                    alert('文章链接或名称不合规定')
                } 
                else {
                    fetch('http://127.0.0.1:8088/addarticle', {
                        method: 'POST',
                        body: JSON.stringify({
                            name: sName,
                            address: sAddress
                        })
                    })
                }
            })

            cancelBotton.addEventListener('click', function(e) {
                articleAddress.value = ''
                articleName.value = ''
            })
        }
    </script>
</body>
</html>